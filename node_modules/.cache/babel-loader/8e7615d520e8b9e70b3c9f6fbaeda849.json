{"ast":null,"code":"import \"antd/es/notification/style\";\nimport _notification from \"antd/es/notification\";\nimport _objectSpread from \"/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/src/common/private.js\";\nimport React, { Component } from 'react';\nimport { login } from '../login/login-api';\nimport { Redirect, Route } from 'react-router-dom';\nimport Login from '../pages/login/login';\nimport Signup from '../pages/signup/signup';\nimport Dashboard from '../pages/doctor/dashboardpage/dashboard';\nimport Drugpage from '../pages/doctor/drugpage/drug';\n\nvar PrivateRoute =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PrivateRoute, _Component);\n\n  function PrivateRoute(props) {\n    var _this;\n\n    _classCallCheck(this, PrivateRoute);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PrivateRoute).call(this, props));\n\n    _this.onSubmitExperience = function (e) {\n      e.preventDefault();\n\n      _this.props.form.validateFields(function (err, values) {\n        if (!err) {\n          var loginRequest = Object.assign({}, values);\n          console.log(values);\n          var loginRequests = values;\n          console.log(loginRequest);\n          loginRequest.data = {};\n          console.log(loginRequest);\n\n          var logReq = _objectSpread({}, values);\n\n          console.log(logReq);\n          login(values).then(function (response) {\n            console.log(response);\n\n            _notification['success']({\n              message: 'MEDTHREAT',\n              description: 'Successfully Logged In.'\n            });\n\n            _this.props.form.resetFields(); // this.setState({redirectMe: {\n            //     status:true,\n            //     path:'/dashboard'\n            //     }\n            // })\n\n\n            _this.setRoute(\"dashboard\");\n          }).catch(function (error) {\n            if (error.response) {\n              console.log(error.response);\n\n              if (error.response.status == 400) {\n                _notification['error']({\n                  message: 'MEDTHREAT',\n                  description: \"Username/Password Incorrect.\"\n                });\n\n                console.log(error.response.status);\n              } else {\n                _notification['error']({\n                  message: 'MEDTHREAT',\n                  description: \"An Error occured .\"\n                });\n\n                console.log(error.response.status);\n              }\n            }\n          });\n        }\n      });\n    };\n\n    _this.setRoute = function (path) {\n      _this.setState({\n        redirectMe: {\n          status: true,\n          path: \"/\".concat(path)\n        }\n      });\n    };\n\n    _this.state = {\n      redirectMe: {\n        status: false,\n        path: ''\n      }\n    };\n    _this.onSubmitExperience = _this.onSubmitExperience.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PrivateRoute, [{\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirectMe.status) {\n        console.log(\"Reiercting\");\n        return React.createElement(Redirect, {\n          to: this.state.redirectMe.path,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 103\n          },\n          __self: this\n        });\n      }\n\n      var getFieldDecorator = this.props.form.getFieldDecorator;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Route, {\n        exact: true,\n        path: \"/dashboard\",\n        component: Dashboard,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }), React.createElement(Route, {\n        exact: true,\n        path: \"/drug\",\n        component: Drugpage,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return PrivateRoute;\n}(Component);\n\nexport default PrivateRoute;","map":{"version":3,"sources":["/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/src/common/private.js"],"names":["React","Component","login","Redirect","Route","Login","Signup","Dashboard","Drugpage","PrivateRoute","props","onSubmitExperience","e","preventDefault","form","validateFields","err","values","loginRequest","Object","assign","console","log","loginRequests","data","logReq","then","response","message","description","resetFields","setRoute","catch","error","status","path","setState","redirectMe","state","bind","getFieldDecorator"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAQC,KAAR,QAAoB,oBAApB;AACA,SAASC,QAAT,EAAmBC,KAAnB,QAAgC,kBAAhC;AAeA,OAAOC,KAAP,MAAkB,sBAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,SAAP,MAAsB,yCAAtB;AACA,OAAOC,QAAP,MAAqB,+BAArB;;IAEMC,Y;;;;;AACF,wBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,sFAAMA,KAAN;;AADe,UAYnBC,kBAZmB,GAYE,UAACC,CAAD,EAAO;AACxBA,MAAAA,CAAC,CAACC,cAAF;;AAEA,YAAKH,KAAL,CAAWI,IAAX,CAAgBC,cAAhB,CAA+B,UAACC,GAAD,EAAMC,MAAN,EAAiB;AAC5C,YAAI,CAACD,GAAL,EAAU;AACN,cAAME,YAAY,GAAGC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBH,MAAlB,CAArB;AACAI,UAAAA,OAAO,CAACC,GAAR,CAAYL,MAAZ;AACA,cAAIM,aAAa,GAACN,MAAlB;AACAI,UAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAZ;AACAA,UAAAA,YAAY,CAACM,IAAb,GAAkB,EAAlB;AACAH,UAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAZ;;AACA,cAAMO,MAAM,qBAAOR,MAAP,CAAZ;;AACAI,UAAAA,OAAO,CAACC,GAAR,CAAYG,MAAZ;AACAvB,UAAAA,KAAK,CAACe,MAAD,CAAL,CACCS,IADD,CACM,UAAAC,QAAQ,EAAE;AACZN,YAAAA,OAAO,CAACC,GAAR,CAAYK,QAAZ;;AACA,0BAAa,SAAb,EAAwB;AACpBC,cAAAA,OAAO,EAAE,WADW;AAEpBC,cAAAA,WAAW,EACT;AAHkB,aAAxB;;AAOA,kBAAKnB,KAAL,CAAWI,IAAX,CAAgBgB,WAAhB,GATY,CAUZ;AACA;AACA;AACA;AACA;;;AACA,kBAAKC,QAAL,CAAc,WAAd;AACH,WAjBD,EAkBAC,KAlBA,CAkBM,UAACC,KAAD,EAAU;AACZ,gBAAGA,KAAK,CAACN,QAAT,EAAkB;AAChBN,cAAAA,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACN,QAAlB;;AACA,kBAAGM,KAAK,CAACN,QAAN,CAAeO,MAAf,IAAyB,GAA5B,EAAgC;AAC9B,8BAAa,OAAb,EAAsB;AAClBN,kBAAAA,OAAO,EAAE,WADS;AAElBC,kBAAAA,WAAW;AAFO,iBAAtB;;AAKIR,gBAAAA,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACN,QAAN,CAAeO,MAA3B;AACL,eAPD,MAOK;AACH,8BAAa,OAAb,EAAsB;AAClBN,kBAAAA,OAAO,EAAE,WADS;AAElBC,kBAAAA,WAAW;AAFO,iBAAtB;;AAMAR,gBAAAA,OAAO,CAACC,GAAR,CAAYW,KAAK,CAACN,QAAN,CAAeO,MAA3B;AACD;AACF;AACJ,WAtCD;AAwCH;AACJ,OAnDD;AAoDH,KAnEkB;;AAAA,UAoEnBH,QApEmB,GAoEV,UAACI,IAAD,EAAQ;AACb,YAAKC,QAAL,CAAc;AAACC,QAAAA,UAAU,EAAE;AACnBH,UAAAA,MAAM,EAAC,IADY;AAEnBC,UAAAA,IAAI,aAAKA,IAAL;AAFe;AAAb,OAAd;AAKH,KA1EkB;;AAEf,UAAKG,KAAL,GAAa;AACTD,MAAAA,UAAU,EAAE;AACRH,QAAAA,MAAM,EAAC,KADC;AAERC,QAAAA,IAAI,EAAC;AAFG;AADH,KAAb;AAMA,UAAKxB,kBAAL,GAA0B,MAAKA,kBAAL,CAAwB4B,IAAxB,uDAA1B;AARe;AAUlB;;;;6BAkEM;AACP,UAAG,KAAKD,KAAL,CAAWD,UAAX,CAAsBH,MAAzB,EAAgC;AAC5Bb,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACA,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE,KAAKgB,KAAL,CAAWD,UAAX,CAAsBF,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACH;;AAJM,UAKAK,iBALA,GAKqB,KAAK9B,KAAL,CAAWI,IALhC,CAKA0B,iBALA;AAOP,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,YAAlB;AAA+B,QAAA,SAAS,EAAEjC,SAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,EAEI,oBAAC,KAAD;AAAO,QAAA,KAAK,MAAZ;AAAa,QAAA,IAAI,EAAC,OAAlB;AAA0B,QAAA,SAAS,EAAEC,QAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ;AAMD;;;;EA1FwBP,S;;AA6F3B,eAAeQ,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport {login} from '../login/login-api'\nimport { Redirect, Route } from 'react-router-dom';\nimport {\n    Form,\n    Input,\n    // Tooltip,\n    Icon,\n    // Cascader,\n    // Select,\n    // Row,\n    // Col,\n    // Checkbox,\n    // Button,\n    // AutoComplete,\n    notification\n  } from 'antd';\nimport Login from '../pages/login/login';\nimport Signup from '../pages/signup/signup'\nimport Dashboard from '../pages/doctor/dashboardpage/dashboard'\nimport Drugpage from '../pages/doctor/drugpage/drug'\n\nclass PrivateRoute extends Component  {\n    constructor(props) {\n        super(props);\n        this.state = {\n            redirectMe: {\n                status:false,\n                path:''\n            }\n           }\n        this.onSubmitExperience = this.onSubmitExperience.bind(this);\n\n    }\n\n    onSubmitExperience = (e) => {\n        e.preventDefault();\n\n        this.props.form.validateFields((err, values) => {\n            if (!err) {\n                const loginRequest = Object.assign({}, values);\n                console.log(values);\n                let loginRequests=values;\n                console.log(loginRequest);\n                loginRequest.data={};\n                console.log(loginRequest);\n                const logReq = {...values};\n                console.log(logReq);\n                login(values)\n                .then(response=>{\n                    console.log(response);\n                    notification['success']({\n                        message: 'MEDTHREAT',\n                        description:\n                          'Successfully Logged In.',\n                      });\n\n\n                    this.props.form.resetFields();\n                    // this.setState({redirectMe: {\n                    //     status:true,\n                    //     path:'/dashboard'\n                    //     }\n                    // })\n                    this.setRoute(\"dashboard\")\n                }).\n                catch((error)=> {\n                    if(error.response){\n                      console.log(error.response);\n                      if(error.response.status == 400){\n                        notification['error']({\n                            message: 'MEDTHREAT',\n                            description:\n                              `Username/Password Incorrect.`,\n                          });\n                            console.log(error.response.status);\n                      }else{\n                        notification['error']({\n                            message: 'MEDTHREAT',\n                            description:\n                              `An Error occured .`,\n                          });\n                          \n                        console.log(error.response.status);\n                      }\n                    }\n                });\n        \n            }\n        });\n    }\n    setRoute=(path)=>{\n        this.setState({redirectMe: {\n                status:true,\n                path:`/${path}`\n            }\n        })\n    }\n\n  render() {\n    if(this.state.redirectMe.status){\n        console.log(\"Reiercting\");\n        return <Redirect to={this.state.redirectMe.path} />\n    }\n    const {getFieldDecorator} = this.props.form;\n\n    return (\n        <div>\n            <Route exact path='/dashboard' component={Dashboard} />\n            <Route exact path='/drug' component={Drugpage} />\n        </div>\n    );\n  }\n}\n\nexport default PrivateRoute;"]},"metadata":{},"sourceType":"module"}