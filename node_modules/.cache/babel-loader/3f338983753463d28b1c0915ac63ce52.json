{"ast":null,"code":"import _objectSpread from \"/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport axios from 'axios';\nimport { APP_ACCESS_TOKEN, APP_CLIENT, APP_PASS, GETMETHOD, POSTMETHOD, PUTMETHOD, DELETEMETHOD } from '../constants';\nexport var axiosRequest = function axiosRequest(options) {\n  var setHeader = {};\n\n  if (options.useBasic) {\n    var tempHeaders = {\n      Authorization: \"\".concat(getBasicAuth(APP_CLIENT, APP_PASS))\n    };\n    setHeader = _objectSpread({}, setHeader, tempHeaders);\n  }\n\n  if (options.useAppAccessToken && localStorage.getItem(APP_ACCESS_TOKEN)) {\n    var _tempHeaders = {\n      Authorization: \"Bearer \".concat(localStorage.getItem(APP_ACCESS_TOKEN))\n    };\n    setHeader = _objectSpread({}, setHeader, _tempHeaders);\n  }\n\n  if (options.headerType) {\n    var _tempHeaders2 = {\n      'Content-Type': options.headerType\n    };\n    setHeader = _objectSpread({}, setHeader, _tempHeaders2);\n  }\n\n  console.log(\"setHeader\");\n  console.log(setHeader); // if(options.useClientToken){\n  //     let tempHeaders={Authorization:`Bearer ${getClientToken()}`}\n  //     setHeader = {...setHeader, ...tempHeaders}\n  // }\n\n  options.headerRequest = {\n    headers: setHeader\n  };\n  var apiRequest = null;\n\n  switch (options.method) {\n    case GETMETHOD:\n      apiRequest = axios.get(options.url, options.headerRequest);\n      break;\n\n    case POSTMETHOD:\n      apiRequest = axios.post(options.url, options.data, options.headerRequest);\n      break;\n\n    case PUTMETHOD:\n      apiRequest = axios.put(options.url, options.data, options.headerRequest);\n      break;\n\n    default:\n      apiRequest = null;\n  }\n\n  return apiRequest;\n};\n\nvar getBasicAuth = function getBasicAuth(username, password) {\n  var hash = new Buffer(username + ':' + password).toString('base64');\n  console.log(hash);\n  return \"Basic \" + hash;\n};","map":{"version":3,"sources":["/Users/ddada/Documents/danpersonal/livejavaproject/medthreat/medthreat-ui2/src/utils/api-utils.js"],"names":["axios","APP_ACCESS_TOKEN","APP_CLIENT","APP_PASS","GETMETHOD","POSTMETHOD","PUTMETHOD","DELETEMETHOD","axiosRequest","options","setHeader","useBasic","tempHeaders","Authorization","getBasicAuth","useAppAccessToken","localStorage","getItem","headerType","console","log","headerRequest","headers","apiRequest","method","get","url","post","data","put","username","password","hash","Buffer","toString"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,gBAAR,EAA0BC,UAA1B,EAAsCC,QAAtC,EAAgDC,SAAhD,EAA0DC,UAA1D,EAAqEC,SAArE,EAA+EC,YAA/E,QAAkG,cAAlG;AAEC,OAAO,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,OAAO,EAAG;AACnC,MAAIC,SAAS,GAAG,EAAhB;;AAGA,MAAID,OAAO,CAACE,QAAZ,EAAsB;AAClB,QAAIC,WAAW,GAAC;AAACC,MAAAA,aAAa,YAAIC,YAAY,CAACZ,UAAD,EAAaC,QAAb,CAAhB;AAAd,KAAhB;AACAO,IAAAA,SAAS,qBAAOA,SAAP,EAAqBE,WAArB,CAAT;AACH;;AAED,MAAIH,OAAO,CAACM,iBAAR,IAA6BC,YAAY,CAACC,OAAb,CAAqBhB,gBAArB,CAAjC,EAAyE;AACrE,QAAIW,YAAW,GAAG;AAACC,MAAAA,aAAa,mBAAWG,YAAY,CAACC,OAAb,CAAqBhB,gBAArB,CAAX;AAAd,KAAlB;AACAS,IAAAA,SAAS,qBAAOA,SAAP,EAAqBE,YAArB,CAAT;AACH;;AAED,MAAGH,OAAO,CAACS,UAAX,EAAsB;AAClB,QAAIN,aAAW,GAAG;AAAC,sBAAiBH,OAAO,CAACS;AAA1B,KAAlB;AACAR,IAAAA,SAAS,qBAAOA,SAAP,EAAqBE,aAArB,CAAT;AACH;;AAEDO,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AAEAD,EAAAA,OAAO,CAACC,GAAR,CAAYV,SAAZ,EArBmC,CAuBnC;AACA;AACA;AACA;;AAEAD,EAAAA,OAAO,CAACY,aAAR,GAAwB;AAACC,IAAAA,OAAO,EAACZ;AAAT,GAAxB;AAEA,MAAIa,UAAU,GAAG,IAAjB;;AAEA,UAAQd,OAAO,CAACe,MAAhB;AACI,SAAKpB,SAAL;AACImB,MAAAA,UAAU,GAAGvB,KAAK,CAACyB,GAAN,CAAUhB,OAAO,CAACiB,GAAlB,EAAsBjB,OAAO,CAACY,aAA9B,CAAb;AACJ;;AAEA,SAAKhB,UAAL;AACIkB,MAAAA,UAAU,GAAEvB,KAAK,CAAC2B,IAAN,CAAWlB,OAAO,CAACiB,GAAnB,EAAwBjB,OAAO,CAACmB,IAAhC,EAAsCnB,OAAO,CAACY,aAA9C,CAAZ;AACJ;;AAEA,SAAKf,SAAL;AACIiB,MAAAA,UAAU,GAAEvB,KAAK,CAAC6B,GAAN,CAAUpB,OAAO,CAACiB,GAAlB,EAAuBjB,OAAO,CAACmB,IAA/B,EAAoCnB,OAAO,CAACY,aAA5C,CAAZ;AACJ;;AAEA;AACEE,MAAAA,UAAU,GAAG,IAAb;AAdN;;AAiBA,SAAOA,UAAP;AAEH,CAnDO;;AAqDR,IAAMT,YAAY,GAAG,SAAfA,YAAe,CAACgB,QAAD,EAAWC,QAAX,EAAwB;AACzC,MAAMC,IAAI,GAAG,IAAIC,MAAJ,CAAWH,QAAQ,GAAG,GAAX,GAAiBC,QAA5B,EAAsCG,QAAtC,CAA+C,QAA/C,CAAb;AACAf,EAAAA,OAAO,CAACC,GAAR,CAAYY,IAAZ;AACA,SAAO,WAAWA,IAAlB;AACH,CAJD","sourcesContent":["import axios from 'axios';\nimport {APP_ACCESS_TOKEN, APP_CLIENT, APP_PASS, GETMETHOD,POSTMETHOD,PUTMETHOD,DELETEMETHOD} from '../constants'\n\n export const axiosRequest = options =>{\n    let setHeader = {}\n    \n\n    if (options.useBasic) {\n        let tempHeaders={Authorization:`${getBasicAuth(APP_CLIENT, APP_PASS)}`}\n        setHeader = {...setHeader, ...tempHeaders}\n    }\n\n    if (options.useAppAccessToken && localStorage.getItem(APP_ACCESS_TOKEN)) {\n        let tempHeaders = {Authorization:`Bearer ${localStorage.getItem(APP_ACCESS_TOKEN)}`}\n        setHeader = {...setHeader, ...tempHeaders}\n    }\n\n    if(options.headerType){\n        let tempHeaders = {'Content-Type' : options.headerType}\n        setHeader = {...setHeader, ...tempHeaders}\n    }\n\n    console.log(\"setHeader\");\n\n    console.log(setHeader);\n\n    // if(options.useClientToken){\n    //     let tempHeaders={Authorization:`Bearer ${getClientToken()}`}\n    //     setHeader = {...setHeader, ...tempHeaders}\n    // }\n\n    options.headerRequest = {headers:setHeader}\n\n    let apiRequest = null;\n\n    switch (options.method) {\n        case GETMETHOD:\n            apiRequest = axios.get(options.url,options.headerRequest)\n        break;\n        \n        case POSTMETHOD:\n            apiRequest= axios.post(options.url, options.data, options.headerRequest);\n        break;\n        \n        case PUTMETHOD:\n            apiRequest= axios.put(options.url, options.data,options.headerRequest);\n        break;\n\n        default:\n          apiRequest = null;\n    }\n\n    return apiRequest;\n\n}\n\nconst getBasicAuth = (username, password) => {\n    const hash = new Buffer(username + ':' + password).toString('base64');\n    console.log(hash);\n    return \"Basic \" + hash;\n};"]},"metadata":{},"sourceType":"module"}